{"title":"Elastic Beanstalk - how to setup CloudWatch Logs","date":"2015-05-20T00:00:00.000Z","tags":"aws,eb,cw-logs","type":"note","intro":"<p>CloudWatch Logs is an AWS service to collect and monitor system and application logs.\nOn the top level setup is this:</p>\n<ul>\n<li>install CloudWatch agent to collect logs data and send to CloudWatch Logs service</li>\n<li>define log metric filters to extract useful data, like number of all errors or information about some specific events</li>\n<li>create alarms for metrics to get notifications about logs</li>\n<li>make sure that the instance role has permissions to push logs to CloudWatch (see comments for details about this issue)</li>\n</ul>\n<p>All the configuration can be done using the Elastic Beanstalk config. In this case when the new environment is launched or existing environment is updated  the CloudWatch Logs setup is done automatically.</p>\n<p>There is an example of the configuration in the Elastic Beanstalk docs - <a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.cloudwatchlogs.html\">Using Elastic Beanstalk with Amazon CloudWatch Logs</a>.\nThe <code>Setting Up CloudWatch Logs Integration with Configuration Files</code> section briefly describes how to use config examples for different environments, but there is no detailed information about the config files. And config files are complex. It is easy to use examples as is, but it is not that easy to do the setup for own logs.\nI will start with the review of the Apache access log example and will show how to change it to collect data from the error log as well.</p>\n"}
